- #[[参考资料]]
    - [使用 Calibre 的命令行工具下载新闻 - 少数派](https://sspai.com/post/56249)
    - [游戏通关，电影看完，是时候用Python整理下电子书了 - 少数派](https://sspai.com/post/58740)
    - **视频自动化**[sspai.com](https://sspai.com/post/42784)
- 我主要用它来转换电子书的格式，把mobi转换为pdf。直接从mobi转换为pdf的话速度很慢，而且经常出现字重叠在一起的情况。一个解决办法是先把mobi转换为epub格式，然后从epub转换为pdf，这样总时间更少，而且转换的效果很好。 tips
- [借助 Calibre 处理电子书的流程和技巧 - 少数派](https://sspai.com/post/57005)
    - 我看看这篇付费的文章和免费的文章有何区别。关于calibre有很多功能我用不上，暂且作为使用说明。我在一天之内想法发生了很大变化，发现calibre无法满足我对于本地图书管理的需求，决定还是把devonthink当做最重要的本地电子图书管理工具。calibre可以当做转换图书格式和排版的工具。
    - 本文要讲的是「处理图书、优化格式、推送图书」这三个部分的内容。
    - 处理图书
        - 为了**提升中文书籍**的检索质量，我们可以再添加一个豆瓣源，它在 Calibre 中被默认关闭。在「右键图书 - 下载元数据和封面 - 配置下载参数」中，启用「Douban Books」后确认，再「下载数据与封面」。就能为大部分图书添加图书信息。
        - 我没有发现douban books这个插件，根据calibre里面的提示下载了douban books的插件才添加成功。
        - 小部分无法被直接添加的图书，可以利用图书的 ISBN 码（国际标准书号）在豆瓣上进行搜索，来获取更为精准的书籍信息。
            - 凡是 2007 年之后出版的书，你都可以在实体书条形码位置上方看到一个 13 位的数字（之前的是 10 位），这就是 ISBN 码。**国际标准书号**（英语：International Standard Book Number，缩写为 ISBN），是国际通用的图书、独立出版物的代码。**一本书每发行一版，都能申请到一个新的国际标准书号**（即使是平装版和精装版也不同）。你可以把 ISBN 码看作是每本书在全球范围内的身份证。
    - 繁简互转插件
        - 有时候一本较新的英文著作可能被先翻译成了繁体中文版本，而简体中文尚未出版。我们可以先购买繁体中文版的电子书，对其进行简体转换后阅读。
        - **方法一**：[书伴](https://bookfere.com/)提供了一种方法，可以将一本繁体书通过**查找和替换**的方法转换为简体书：《[电子书繁体字转简体字](https://bookfere.com/post/162.html)》，其中采用的方法是通过词库规则（查找和替换）来实现新字词、繁简对换、修改规则、重排、全词库去重。发布该方法的原贴在 2015 年就不再更新了，不过转换质量依然很高。
        - **方法二**：这里要介绍的是另一种较新的方法，即通过繁简转换插件：Chinese Text Conversion 来实现。这一方法需要 Calibre 的版本在 3.37.0 以上。首先在 Github 下载 [Chinese Text Conversion - TradSimpChinese](https://github.com/Hopkins1/TradSimpChinese/releases) 插件的最新版本，不用解压缩。然后在「Calibre - 首选项 - 插件 - 从文件加载插件」，来加载这一插件的 zip 压缩包。安装完毕后，「右键图书 - 编辑图书」，进入编辑图书的界面。界面上方的最右侧会出现一个「文」的图标，点击图标就会显示这一插件的界面。
    - 优化样式
        - 添加可跳转的目录。最典型也是最原始的电子书有不少是 TXT 格式，由于纯文本格式的限制，通常不包含内容之外的其他信息。行间距、显示效果之类的倒是还在其次，毕竟可以用阅读软件进行调整。而**目录的缺失**则是一个严重的问题，毕竟没有目录就不能跳过某些章节，只能手动翻页。
        - 原来txt文件也可以优化。
        - 了解决这一问题，我们需要先找到书内标题格式的一些规律，比如—— 第一章 夏洛克·福尔摩斯先生 第二章 演绎法 第三章 劳瑞斯顿花园街的惨案 …… 因此，我们可以使用正则表达对这些章节号进行替换，但在 Calibre 中无法直接编辑 AZW3 或 EPUB 格式以外的格式，而我们又想借助 Calibre，为 TXT 文件添加目录，这应该怎么办呢？
        - 方法比较复杂，留作备用
    - 优化图书样式
        - 首先选中图书，「右键图书 - 转换书籍 - 逐个转换」，进入 Calibre 自带的格式转换界面。我们需要进行这些调整—— 勾选「界面外观 - 文本 - 规范标点」。 分别勾选「界面外观 - 布局 - 删除段间空行」「在段落间插入空白行」，右侧的缩进宽度、行间距可以略高一些，比如 2.0 em 和 1.0 em。 在「界面外观 - 样式」中，为电子书加上 CSS 样式。把 CSS 文本直接复制进文本框即可。
        - 除了排版糟糕之外，还有一些网络小说可能会出现无故换行、无故空格、标题不规范等情况（TXT 常见）。那可以在「启发式处理」中启用「智能处理」，看看能否解决这一问题。
        - CSS 样式部分其实灵活性非常高，因为它可以控制书中几乎所有的元素和显示样式。关于 CSS 样式的选择，这里要推荐一下 [@Minja](https://sspai.com/u/3pa8hgwv/posts) 的 《[简单又好看，你的 Markdown 文稿也能加上个性化主题](https://sspai.com/post/43873)》，提供了五种好看的 CSS 样式，本文使用的就是其中的「[少数派经典 CSS](https://cdn.sspai.com/minja/sspai.css.zip)」，点击可以直接下载。 如果你不满足于现有的 CSS 样式，还想修改字体，可以看看[@PlatyHsu](https://sspai.com/u/d2naxtcd/posts) 的《[无需越狱，中英混排的 Kindle 电子书也能拥有好看的排版](https://sspai.com/post/43931)》。 还有很多文章中提到了要选择「输出配置文件」，但其实这一配置文件主要是针对屏幕大小对图片进行缩放，除非是 PDF 文件，否则多数情况下几乎没有必要刻意修改它，也不必为不同的设备区分配置文件。
    - 将电子书批量传输
        - 以上两种方法都依赖于 Calibre，其中第二种内容服务器的方法只适用于少量图书的分享，不能批量操作，是个比较麻烦的问题。 因此这里给出第三种方法，那就是通过手机端的第三方应用开启 WebDAV 服务，再将图书批量上传到手机端。这一方法在手机端的 Documents、多看阅读（被称为 WiFi 传书）中均能实现，主要操作是找到软件中的 WebDAV 服务设置，将其开启后，在电脑端浏览器中打开这一链接，输入相应的账号密码，就能对应用中的文件进行上传和下载。 这在《[用好 WebDAV，我是如何在 Windows 和手机之间传输文件的 | 工作日志](https://sspai.com/post/53942)》中有较为详细的说明。
        - 这涉及到一个新的知识WebDAV。我也并不明白，留作备用吧，现在也没有使用的需求。
- [最强大的本地电子书管理工具：Calibre 使用指南 - 少数派](https://sspai.com/post/43843)
    - 为什么需要管理本地电子书？
        - 现在人手一部智能手机或者 Kindle，习惯了在亚马逊、多看等平台，实现从购买到阅读的一条龙体验。特别是 Kindle Unlimited 服务，使得电子书变得像流媒体音乐一样，唾手可得（即凯文﹒凯利所谓的「流化」）。你真的还需要一款「本地」电子书「管理」工具？ Calibre 不只是一款「本地电子书管理工具」，「管理电子书」不是我们真正的需求。Calibre 带来的，是我们靠依附于电子书平台，无法带来的**完全自由而又完善的电子书使用体验**。
        - Kindle、多看等平台还是提供书库模式的，不过也就真的限于看看封面过过眼瘾。除了书名作家，其它信息——类似出版社、版本——一概不知。书库中的数据也不能编辑，想给电子书加上标签，通过作品类型整理藏书自然不可行。至于添加其它平台的图书，怕是痴人说梦
    - 导入图书
        - 而 Calibre 可以**导入几乎市面上所有的电子书格式**
    - 编辑图书信息
        - Calibre 的设计者当然想到了「自动完善图书信息」这个需求，而且是**一次性给书库中所有图书添加图书信息**。选中所有图书（快捷键⌘Command + A）后，点击「编辑元数据 - 下载元数据和封面」（快捷键⌘Command + D + ），就可以批量下载图书信息。Calibre 会从亚马逊、谷歌和豆瓣等平台抓取图书的相关信息。
        - 下载所需要的时间可能会稍长，只要看到右下角的圆圈一直在转动，就说明 Calibre 正在辛勤地搜索和下载中，不要担心它已经罢工了。
    - **既实现了实体书架的展示功能**，又发挥了电子书**便于整理**的特性。
    - 把 RSS 新闻变成电子书
        - 除了书籍，RSS 新闻也是很多爱读书的人的信息来源。市面上已经有很多工具，可以把 RSS 信息源转换成电子书，再通过邮件推送的方式发送到 Kindle。作为你唯一的电子书书库，Calibre 又怎么能少的了这个功能呢。 不过如果直接把 RSS 源中的新闻全部转为电子书，我想很多人都难以读完所有新闻，况且 RSS 中并不是所有的新闻都值得放在 Kindle 中精读。
        - 下载完成后最后去 Instapaper 将文章存档或者删除，否则下次下载时会重复下载老文章。
        - 当然你也可以直接添加 RSS 源。除了一个个添加 RSS 链接，更高效的操作是从 Inoread 或者 Feedly 导出自己已有的 RSS 源的** OPML 文件**，再在 Calibre 中导入，就可以一口气添加所有已有的 RSS。
        - **选中书籍**后在工具栏**选中「转换书籍」**就能打开转换界面。在右上角的**输出格式**中，**选择你希望输出的**格式。
        - 我最初使用calibre的功能就是转换电子书格式，把电子书转换成pdf导入当时买的索尼pdf阅读器中。看来还真是忽略了它最大的价值。
    - 像 iTunes 一样传输图书到设备
        - 将 Kindle 连接电脑后，Calibre 会自动调整工具栏，**显示出「设备」窗口**。在「设备」中可以查看 Kindle 中已有的图书文件。此时在书库中**选中想要推送到图书**，**选择「发送到设备」**即可。完整的图书文件和信息，就会显示在「设备」窗口中。
        - 不知道能不能传到ipad或者我的文石阅读器
        - 转换图书格式后，Calibre 会智能的将两种格式的图书，同时保存在书库的同一条目中，但通常没有必要把两个不同格式的文件都发送到 Kindle 或者设备上。其实只要选择「发送特定格式」到设备即可。
    - 制作属于自己的阅读书单
        - 所幸 Calibre 可以在书库中，添加一本没有实际电子书文件的条目。点击**「添加图书 - 根据 ISBN 号添加图书」**（上文已经介绍过如何获得图书的 ISBN 号），记得在右侧给图书加上「想读」标签。导入后 Calibre 会自动询问你是否要下载元数据。完成导入后的条目，除了没有真正的电子书文件，其余和 Calibre 中的其它书是完全一样的。
        - 这时就可以用到 Calibre 的「**虚拟书库**」功能。抛开技术细节，「虚拟书库」可以理解为基于现有书库创建一份独立的书单。**点击「虚拟书库 - 创建虚拟书库」**，Calibre 会让你**设置名称和搜索表达式**。我们之前为想读的书都打好了「想读」标签，此时只需要基于这个标签来筛选即可。
        - 虚拟书库实际上就是一个智能文件夹
    - 分享你的书库
        - Calibre 作为私人的藏书库，在功能上已经无可指摘了。而虽然它的数据结构是基于本地硬盘的，但开发者还是给它加上了网络书库功能，方便我们将电子书分享出去。 Calibre 提供了不止一种共享图书的办法，有**内容服务器、无线设备共享和电子邮件共享**。不过经过体验下来，内容服务器是最稳定和便捷的方式。
        - 居然可以分享书库，我虽然目前没有需求，但是觉得很酷。
        - 在 Calibre 的「连接／共享」窗口中打开内容服务器，软件会提示一个 IP 地址和端口，假设 IP 地址是 123.456.789.987，而端口是 8888，将两者以123.456.789.987:8888格式在浏览器中输入，就能在网页端打开你的书库。朋友可以随意下载你书库中的书籍到他的电脑中。 一定要注意的是，因为 Calibre 的内容服务器是用的非加密通道，一定不要将自己的 IP 地址和端口随意公布到网上，否则你的电脑将极不安全。在给朋友分享完后，一定记得停止内容服务器。
    - [[电子书]]才是未来。是纸书的体验无可替代了吗？不，是电子书的体验还没真正的达到让人放弃纸书。尚不谈论硬件上的差异，光是买书、看书、管理电子书的场景的割裂，就足以让每个爱阅读的人身心俱疲。
    - 我也觉得电子书才是未来，只不过现在各服务提供商割裂了读者的使用体验。谁不想有一个自己的书柜呢？电子的就很好。
